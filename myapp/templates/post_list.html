{% extends 'base.html' %}
{% block title %}ê²Œì‹œíŒ - NULLCRYPT{% endblock %}
{% block content %}
    <h1 class="text-3xl text-neon-green mb-4">ê²Œì‹œíŒ</h1>
    
    <div class="mb-4">
        <h2 class="text-xl text-neon-green">ê³µì§€ì‚¬í•­</h2>
        {% for announcement in announcements %}
            <div class="bg-gray-800 p-4 mb-2 rounded">
                <h3 class="text-lg text-neon-pink">{{ announcement.title }}</h3>
                <p>{{ announcement.content }}</p>
                <p class="text-sm text-gray-400">ì‘ì„±ì: {{ announcement.author }} | {{ announcement.created_at }}</p>
            </div>
        {% empty %}
            <p class="text-gray-400">ê³µì§€ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤.</p>
        {% endfor %}
    </div>
    
    <div class="mb-4">
        <h2 class="text-xl text-neon-green">ì¹´í…Œê³ ë¦¬</h2>
        <div class="flex space-x-4 mb-4">
            <a href="{% url 'post_list' %}" class="text-neon-green hover:text-neon-pink {% if not category %}font-bold{% endif %}">ì „ì²´</a>
            {% for cat in categories %}
                <a href="{% url 'post_list' category_slug=cat.slug %}" 
                   class="text-neon-green hover:text-neon-pink {% if category and category.slug == cat.slug %}font-bold{% endif %}">
                   {{ cat.name }}
                </a>
            {% endfor %}
        </div>
        
        {% if user.is_authenticated %}
            <div class="mb-4">
                {% if category %}
                    <a href="{% url 'post_create' category_slug=category.slug %}" 
                       class="bg-neon-green text-black px-4 py-2 rounded hover:bg-neon-pink">
                       {{ category.name }}ì— ê¸€ì“°ê¸°
                    </a>
                {% endif %}
                <a href="{% url 'post_create_general' %}" 
                   class="bg-neon-blue text-black px-4 py-2 rounded hover:bg-neon-pink ml-2">
                   ì¼ë°˜ ê¸€ì“°ê¸°
                </a>
            </div>
        {% endif %}
    </div>
    
    <div>
        <h2 class="text-xl text-neon-green">ê²Œì‹œë¬¼</h2>
        {% for post in posts %}
            <div class="bg-gray-800 p-4 mb-2 rounded">
                <h3 class="text-lg text-neon-pink">
                    <a href="{% url 'post_detail' post_id=post.id %}" class="hover:text-neon-green transition-colors">
                        {{ post.title }}
                    </a>
                    {% if post.is_pinned %}
                        <span class="text-neon-green text-sm">[ê³ ì •]</span>
                    {% endif %}
                </h3>
                <p class="mb-2">{{ post.content|truncatewords:30 }}</p>
                {% if post.file %}
                    <div class="mb-2">
                        <a href="{{ post.file.url }}" class="text-neon-green hover:text-neon-pink">
                            ğŸ“ íŒŒì¼ ë‹¤ìš´ë¡œë“œ
                        </a>
                    </div>
                {% endif %}
                <p class="text-sm text-gray-400">
                    ì‘ì„±ì: {{ post.author.username }} | 
                    {{ post.created_at|date:"Y-m-d H:i" }} | 
                    ì¹´í…Œê³ ë¦¬: {{ post.category.name }}
                </p>
            </div>
        {% empty %}
            <p class="text-gray-400">ê²Œì‹œë¬¼ì´ ì—†ìŠµë‹ˆë‹¤.</p>
        {% endfor %}
    </div>
{% endblock %}
